<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오감 감정 민감성 테스트</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f7f3e9 0%, #e8d5b7 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 8px;
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: white;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .test-section {
            padding: 40px;
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .question-number {
            color: #667eea;
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.3em;
            color: #2d3748;
            line-height: 1.6;
            margin-bottom: 25px;
            font-weight: 500;
        }

        .scale-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .scale-label {
            font-size: 0.9em;
            color: #666;
            text-align: center;
            flex: 1;
            max-width: 120px;
        }

        .scale-options {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex: 2;
        }

        .scale-option {
            position: relative;
        }

        .scale-option input[type="radio"] {
            width: 30px;
            height: 30px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .scale-option label {
            position: absolute;
            top: 35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9em;
            color: #666;
            cursor: pointer;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
        }

        .btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #a0aec0 0%, #718096 100%);
        }

        .result-page {
            display: none;
            padding: 40px;
            text-align: center;
        }

        .result-title {
            font-size: 2.5em;
            color: #2d3748;
            margin-bottom: 30px;
            font-weight: 700;
        }

        .result-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
        }

        .main-type {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .type-name {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .type-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .score-item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
        }

        .score-type {
            font-size: 1.2em;
            font-weight: 700;
            margin-bottom: 10px;
            color: #2d3748;
        }

        .score-bar {
            background: #e2e8f0;
            height: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.8s ease;
        }

        .score-value {
            font-size: 1.1em;
            font-weight: 600;
            color: #667eea;
        }

        .visual-fill { background: linear-gradient(135deg, #ff6b6b, #ff8e8e); }
        .auditory-fill { background: linear-gradient(135deg, #4ecdc4, #7ed3cf); }
        .tactile-fill { background: linear-gradient(135deg, #45b7d1, #6bc5d9); }
        .olfactory-fill { background: linear-gradient(135deg, #96ceb4, #a8d5c4); }
        .gustatory-fill { background: linear-gradient(135deg, #ffeaa7, #ffecb3); }

        .description {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: left;
        }

        .description h3 {
            color: #2d3748;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .description p {
            color: #4a5568;
            line-height: 1.7;
            font-size: 1.1em;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .test-section {
                padding: 30px 20px;
            }
            
            .scale-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .scale-label {
                max-width: none;
            }

            .main-type {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>오감 감정 민감성 테스트</h1>
            <p>당신의 감각 유형을 알아보세요</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div id="testPage" class="test-section">
            <div id="questionCard" class="question-card">
                <!-- 문항이 여기에 표시됩니다 -->
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" disabled>이전</button>
                <button class="btn" id="nextBtn" disabled>다음</button>
            </div>
        </div>

        <div id="resultPage" class="result-page">
            <h2 class="result-title">당신의 감각 유형</h2>
            <div id="resultSummary" class="result-summary">
                <!-- 결과 요약이 여기에 표시됩니다 -->
            </div>
            <div id="scoreBreakdown" class="type-scores">
                <!-- 점수 분해가 여기에 표시됩니다 -->
            </div>
            <div id="resultDescription" class="description">
                <!-- 결과 설명이 여기에 표시됩니다 -->
            </div>
            <button class="btn" id="restartBtn">다시 테스트하기</button>
        </div>
    </div>

    <script>
        const allQuestions = [
            // 시각 (Visual) - 6문항
            { type: 'visual', text: '주변이 어수선하면, 정리하기 전까지 다른 일에 집중하기 어렵다.', reverse: false },
            { type: 'visual', text: '낮은 색 대비의 문서/화면을 오래 읽으면 눈이 쉽게 피로해진다.', reverse: false },
            { type: 'visual', text: '실내 조명 밝기가 바뀌면, 몸이 그 밝기에 적응하는 데 시간이 걸린다.', reverse: false },
            { type: 'visual', text: '공간의 색채가 달라지면, 내 업무 속도나 오류율도 달라지는 편이다.', reverse: false },
            { type: 'visual', text: '일정 시간 이상 강한 빛에 노출되면 이후 한동안 멍하거나 두통이 온다.', reverse: false },
            { type: 'visual', text: '주변 정리가 안 되어도, 해야 할 일만 있으면 시각적 방해를 거의 무시한다.', reverse: true },
            
            // 청각 (Auditory) - 6문항
            { type: 'auditory', text: '두 가지 이상의 말소리/소리가 겹치면 대화 내용을 놓치는 일이 잦다.', reverse: false },
            { type: 'auditory', text: '소음 환경에서 집중도가 떨어진다.', reverse: false },
            { type: 'auditory', text: '일정 리듬(에어컨, 탁탁 소리 등)이 지속되면 신체가 긴장되는 느낌이 든다.', reverse: false },
            { type: 'auditory', text: '조용한 공간으로 이동하면, 감정 상태가 정상화되기까지 회복 시간이 필요하다.', reverse: false },
            { type: 'auditory', text: '특정 억양(명령조/날카로운 톤 등)이면, 내용보다 톤 자체에 먼저 반응한다.', reverse: false },
            { type: 'auditory', text: '작업 몰입 중에는 주변 소음이 커져도 방해를 거의 받지 않는다.', reverse: true },
            
            // 촉각 (Tactile) - 6문항
            { type: 'tactile', text: '피부에 닿는 라벨/솔기/시계줄 같은 미세한 압박이 신경 쓰여 장시간 착용이 어렵다.', reverse: false },
            { type: 'tactile', text: '온도·습도 변화가 크면 감정이 먼저 요동치고 이후에 이유를 찾는 편이다.', reverse: false },
            { type: 'tactile', text: '낯선 사람이 손/어깨를 툭 치면, 상대 의도 파악보다 몸 반응이 먼저 일어난다.', reverse: false },
            { type: 'tactile', text: '긴장 시 어깨·턱·복부 등 특정 부위에 일관된 근긴장이 나타난다.', reverse: false },
            { type: 'tactile', text: '부드러운 재질(담요, 나무결, 물 등)을 짧게 만지는 것만으로도 이완 전환이 된다.', reverse: false },
            { type: 'tactile', text: '옷감/침구 재질은 거의 신경 쓰지 않으며, 불편을 잘 인식하지 못한다.', reverse: true },
            
            // 후각 (Olfactory) - 6문항
            { type: 'olfactory', text: '향이나 냄새 변화를 가장 먼저 알아차리는 편이다(사람보다 먼저).', reverse: false },
            { type: 'olfactory', text: '실내에 새로운 냄새가 생기면, 그 냄새의 출처를 찾을 때까지 집중이 흐트러진다.', reverse: false },
            { type: 'olfactory', text: '냄새가 사라진 뒤에도 감정 여진(불쾌/흥분)이 비교적 오래 남는다.', reverse: false },
            { type: 'olfactory', text: '익숙한 냄새가 나면 현재 상황이 달라도 신체가 \'안전\'으로 오판할 때가 있다.', reverse: false },
            { type: 'olfactory', text: '같은 향이라도 강도/잔향 차이를 예민하게 구분한다(오버, 탑/미들/베이스 등).', reverse: false },
            { type: 'olfactory', text: '냄새 강도가 커져도 업무 성과나 대화 질에는 거의 변화가 없다.', reverse: true },
            
            // 미각 (Gustatory) - 6문항
            { type: 'gustatory', text: '식사 시간/규칙이 흐트러지면 정서 안정성보다 집중력이 먼저 떨어진다.', reverse: false },
            { type: 'gustatory', text: '스트레스 상황에서 찾는 음식 패턴이 반복된다(예: 당/카페인/매운맛).', reverse: false },
            { type: 'gustatory', text: '식사 직후 감정 기복이 줄어드는 체감 시간이 있다(예: 10~20분).', reverse: false },
            { type: 'gustatory', text: '예상과 다른 맛/식감이면, 만족도뿐 아니라 행동 계획(일정/약속)도 수정한다.', reverse: false },
            { type: 'gustatory', text: '새로운 맛에 대한 기대가 낮은 날엔 소량만 먹고도 포기를 선택한다.', reverse: false },
            { type: 'gustatory', text: '식사 질이나 타이밍이 달라도 하루 에너지나 감정 곡선은 거의 일정하다.', reverse: true }
        ];

        const sensoryTypes = {
            visual: {
                name: '시각형 (Visual Type)',
                emoji: '👁️',
                description: '시각적 자극에 민감하고 깔끔하고 정돈된 환경을 선호합니다. 조명과 색상, 공간 배치가 당신의 감정과 컨디션에 큰 영향을 미치는 타입입니다. 업무나 일상생활에서 시각적 정보를 중요하게 여기며, 환경의 미적 요소가 성과에 직접적인 영향을 줍니다.'
            },
            auditory: {
                name: '청각형 (Auditory Type)',
                emoji: '👂',
                description: '소리와 음성에 특별히 민감한 타입입니다. 음악, 목소리의 톤, 주변 소음이 당신의 감정 상태를 크게 좌우합니다. 조용한 환경에서 최적의 성과를 내며, 소리를 통해 감정과 에너지를 조절하는 경향이 있습니다.'
            },
            tactile: {
                name: '촉각형 (Tactile Type)',
                emoji: '✋',
                description: '촉감과 신체적 접촉에 민감한 타입입니다. 옷의 재질, 온도, 물리적 접촉이 당신의 편안함과 감정에 직접적인 영향을 줍니다. 신체 감각을 통해 환경을 인식하고 감정 상태를 판단하는 특성이 있습니다.'
            },
            olfactory: {
                name: '후각형 (Olfactory Type)',
                emoji: '👃',
                description: '냄새와 향기에 특별한 반응을 보이는 타입입니다. 향수, 음식 냄새, 자연의 향기가 당신의 기억과 감정을 강하게 자극합니다. 후각을 통해 공간과 상황을 빠르게 인식하고 반응하는 능력이 뛰어납니다.'
            },
            gustatory: {
                name: '미각형 (Gustatory Type)',
                emoji: '👅',
                description: '맛과 음식을 통해 감정을 조절하는 타입입니다. 음식의 맛이 당신의 기분과 하루의 컨디션에 큰 영향을 미칩니다. 식사 패턴과 맛의 변화가 감정 상태와 밀접하게 연결되어 있는 특성을 보입니다.'
            }
        };

        let currentQuestion = 0;
        let answers = {};
        let shuffledQuestions = [];

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function initializeTest() {
            shuffledQuestions = shuffleArray(allQuestions);
            currentQuestion = 0;
            answers = {};
            showQuestion();
        }

        function showQuestion() {
            const question = shuffledQuestions[currentQuestion];
            const questionCard = document.getElementById('questionCard');
            
            questionCard.innerHTML = `
                <div class="question-number">질문 ${currentQuestion + 1} / ${shuffledQuestions.length}</div>
                <div class="question-text">${question.text}</div>
                <div class="scale-container">
                    <div class="scale-label">전혀<br>그렇지 않다</div>
                    <div class="scale-options">
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="1" id="q${currentQuestion}_1">
                            <label for="q${currentQuestion}_1">1</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="2" id="q${currentQuestion}_2">
                            <label for="q${currentQuestion}_2">2</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="3" id="q${currentQuestion}_3">
                            <label for="q${currentQuestion}_3">3</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="4" id="q${currentQuestion}_4">
                            <label for="q${currentQuestion}_4">4</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="5" id="q${currentQuestion}_5">
                            <label for="q${currentQuestion}_5">5</label>
                        </div>
                    </div>
                    <div class="scale-label">매우<br>그렇다</div>
                </div>
            `;

            // 이전 답변이 있다면 복원
            if (answers[currentQuestion] !== undefined) {
                const prevAnswer = answers[currentQuestion];
                document.querySelector(`input[name="q${currentQuestion}"][value="${prevAnswer}"]`).checked = true;
            }

            updateProgress();
            updateButtons();
            setupQuestionEventListeners();
        }

        function setupQuestionEventListeners() {
            const radioButtons = document.querySelectorAll(`input[name="q${currentQuestion}"]`);
            radioButtons.forEach(radio => {
                radio.addEventListener('change', () => {
                    answers[currentQuestion] = parseInt(radio.value);
                    updateButtons();
                });
            });
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / shuffledQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === shuffledQuestions.length - 1) {
                nextBtn.textContent = answers[currentQuestion] !== undefined ? '결과 보기' : '답변을 선택해주세요';
                nextBtn.disabled = answers[currentQuestion] === undefined;
            } else {
                nextBtn.textContent = '다음';
                nextBtn.disabled = answers[currentQuestion] === undefined;
            }
        }

        function nextQuestion() {
            if (currentQuestion === shuffledQuestions.length - 1) {
                showResult();
            } else {
                currentQuestion++;
                showQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        function calculateScores() {
            const scores = {
                visual: 0,
                auditory: 0,
                tactile: 0,
                olfactory: 0,
                gustatory: 0
            };

            shuffledQuestions.forEach((question, index) => {
                if (answers[index] !== undefined) {
                    let score = answers[index];
                    
                    // 역채점 문항 처리
                    if (question.reverse) {
                        score = 6 - score; // 1->5, 2->4, 3->3, 4->2, 5->1
                    }
                    
                    scores[question.type] += score;
                }
            });

            return scores;
        }

        function showResult() {
            const scores = calculateScores();
            const maxScore = Math.max(...Object.values(scores));
            const dominantTypes = Object.keys(scores).filter(type => scores[type] === maxScore);
            
            let mainType = dominantTypes[0];
            let typeCode = '';
            
            if (dominantTypes.length > 1) {
                typeCode = dominantTypes.map(type => type.charAt(0).toUpperCase()).join('');
                mainType = dominantTypes[0];
            } else {
                typeCode = mainType.charAt(0).toUpperCase();
            }

            const resultSummary = document.getElementById('resultSummary');
            resultSummary.innerHTML = `
                <div class="main-type">${typeCode}</div>
                <div class="type-name">${sensoryTypes[mainType].emoji} ${sensoryTypes[mainType].name}</div>
            `;

            const scoreBreakdown = document.getElementById('scoreBreakdown');
            let scoreHTML = '';
            
            Object.keys(scores).forEach(type => {
                const percentage = (scores[type] / 30) * 100;
                const fillClass = type + '-fill';
                
                scoreHTML += `
                    <div class="score-item">
                        <div class="score-type">${sensoryTypes[type].emoji} ${sensoryTypes[type].name.split(' (')[0]}</div>
                        <div class="score-bar">
                            <div class="score-fill ${fillClass}" style="width: ${percentage}%"></div>
                        </div>
                        <div class="score-value">${scores[type]}/30 (${Math.round(percentage)}%)</div>
                    </div>
                `;
            });
            
            scoreBreakdown.innerHTML = scoreHTML;

            const resultDescription = document.getElementById('resultDescription');
            resultDescription.innerHTML = `
                <h3>${sensoryTypes[mainType].emoji} ${sensoryTypes[mainType].name}</h3>
                <p>${sensoryTypes[mainType].description}</p>
            `;

            // 애니메이션을 위한 지연
            setTimeout(() => {
                document.querySelectorAll('.score-fill').forEach(fill => {
                    const width = fill.style.width;
                    fill.style.width = '0%';
                    setTimeout(() => {
                        fill.style.width = width;
                    }, 100);
                });
            }, 500);

            document.getElementById('testPage').style.display = 'none';
            document.getElementById('resultPage').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function restartTest() {
            document.getElementById('resultPage').style.display = 'none';
            document.getElementById('testPage').style.display = 'block';
            initializeTest();
            window.scrollTo(0, 0);
        }

        // 이벤트 리스너 설정
        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('restartBtn').addEventListener('click', restartTest);

        // 초기화
        window.addEventListener('DOMContentLoaded', initializeTest);
    </script>
</body>
</html>
