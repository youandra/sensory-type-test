<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïò§Í∞ê Í∞êÏ†ï ÎØºÍ∞êÏÑ± ÌÖåÏä§Ìä∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f7f3e9 0%, #e8d5b7 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 8px;
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: white;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .test-section {
            padding: 40px;
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .question-number {
            color: #667eea;
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.3em;
            color: #2d3748;
            line-height: 1.6;
            margin-bottom: 25px;
            font-weight: 500;
        }

        .scale-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .scale-label {
            font-size: 0.9em;
            color: #666;
            text-align: center;
            flex: 1;
            max-width: 120px;
        }

        .scale-options {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex: 2;
        }

        .scale-option {
            position: relative;
        }

        .scale-option input[type="radio"] {
            width: 30px;
            height: 30px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .scale-option label {
            position: absolute;
            top: 35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9em;
            color: #666;
            cursor: pointer;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
        }

        .btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #a0aec0 0%, #718096 100%);
        }

        .result-page {
            display: none;
            padding: 40px;
            text-align: center;
        }

        .result-title {
            font-size: 2.5em;
            color: #2d3748;
            margin-bottom: 30px;
            font-weight: 700;
        }

        .result-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
        }

        .main-type {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .type-name {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .type-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .score-item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
        }

        .score-type {
            font-size: 1.2em;
            font-weight: 700;
            margin-bottom: 10px;
            color: #2d3748;
        }

        .score-bar {
            background: #e2e8f0;
            height: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.8s ease;
        }

        .score-value {
            font-size: 1.1em;
            font-weight: 600;
            color: #667eea;
        }

        .visual-fill { background: linear-gradient(135deg, #ff6b6b, #ff8e8e); }
        .auditory-fill { background: linear-gradient(135deg, #4ecdc4, #7ed3cf); }
        .tactile-fill { background: linear-gradient(135deg, #45b7d1, #6bc5d9); }
        .olfactory-fill { background: linear-gradient(135deg, #96ceb4, #a8d5c4); }
        .gustatory-fill { background: linear-gradient(135deg, #ffeaa7, #ffecb3); }

        .description {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: left;
        }

        .description h3 {
            color: #2d3748;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .description p {
            color: #4a5568;
            line-height: 1.7;
            font-size: 1.1em;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .test-section {
                padding: 30px 20px;
            }
            
            .scale-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .scale-label {
                max-width: none;
            }

            .main-type {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Ïò§Í∞ê Í∞êÏ†ï ÎØºÍ∞êÏÑ± ÌÖåÏä§Ìä∏</h1>
            <p>ÎãπÏã†Ïùò Í∞êÍ∞Å Ïú†ÌòïÏùÑ ÏïåÏïÑÎ≥¥ÏÑ∏Ïöî</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div id="testPage" class="test-section">
            <div id="questionCard" class="question-card">
                <!-- Î¨∏Ìï≠Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" disabled>Ïù¥Ï†Ñ</button>
                <button class="btn" id="nextBtn" disabled>Îã§Ïùå</button>
            </div>
        </div>

        <div id="resultPage" class="result-page">
            <h2 class="result-title">ÎãπÏã†Ïùò Í∞êÍ∞Å Ïú†Ìòï</h2>
            <div id="resultSummary" class="result-summary">
                <!-- Í≤∞Í≥º ÏöîÏïΩÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
            </div>
            <div id="scoreBreakdown" class="type-scores">
                <!-- Ï†êÏàò Î∂ÑÌï¥Í∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
            </div>
            <div id="resultDescription" class="description">
                <!-- Í≤∞Í≥º ÏÑ§Î™ÖÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
            </div>
            <button class="btn" id="restartBtn">Îã§Ïãú ÌÖåÏä§Ìä∏ÌïòÍ∏∞</button>
        </div>
    </div>

    <script>
        const allQuestions = [
            // ÏãúÍ∞Å (Visual) - 6Î¨∏Ìï≠
            { type: 'visual', text: 'Ï£ºÎ≥ÄÏù¥ Ïñ¥ÏàòÏÑ†ÌïòÎ©¥, Ï†ïÎ¶¨ÌïòÍ∏∞ Ï†ÑÍπåÏßÄ Îã§Î•∏ ÏùºÏóê ÏßëÏ§ëÌïòÍ∏∞ Ïñ¥Î†µÎã§.', reverse: false },
            { type: 'visual', text: 'ÎÇÆÏùÄ ÏÉâ ÎåÄÎπÑÏùò Î¨∏ÏÑú/ÌôîÎ©¥ÏùÑ Ïò§Îûò ÏùΩÏúºÎ©¥ ÎààÏù¥ ÏâΩÍ≤å ÌîºÎ°úÌï¥ÏßÑÎã§.', reverse: false },
            { type: 'visual', text: 'Ïã§ÎÇ¥ Ï°∞Î™Ö Î∞ùÍ∏∞Í∞Ä Î∞îÎÄåÎ©¥, Î™∏Ïù¥ Í∑∏ Î∞ùÍ∏∞Ïóê Ï†ÅÏùëÌïòÎäî Îç∞ ÏãúÍ∞ÑÏù¥ Í±∏Î¶∞Îã§.', reverse: false },
            { type: 'visual', text: 'Í≥µÍ∞ÑÏùò ÏÉâÏ±ÑÍ∞Ä Îã¨ÎùºÏßÄÎ©¥, ÎÇ¥ ÏóÖÎ¨¥ ÏÜçÎèÑÎÇò Ïò§Î•òÏú®ÎèÑ Îã¨ÎùºÏßÄÎäî Ìé∏Ïù¥Îã§.', reverse: false },
            { type: 'visual', text: 'ÏùºÏ†ï ÏãúÍ∞Ñ Ïù¥ÏÉÅ Í∞ïÌïú ÎπõÏóê ÎÖ∏Ï∂úÎêòÎ©¥ Ïù¥ÌõÑ ÌïúÎèôÏïà Î©çÌïòÍ±∞ÎÇò ÎëêÌÜµÏù¥ Ïò®Îã§.', reverse: false },
            { type: 'visual', text: 'Ï£ºÎ≥Ä Ï†ïÎ¶¨Í∞Ä Ïïà ÎêòÏñ¥ÎèÑ, Ìï¥Ïïº Ìï† ÏùºÎßå ÏûàÏúºÎ©¥ ÏãúÍ∞ÅÏ†Å Î∞©Ìï¥Î•º Í±∞Ïùò Î¨¥ÏãúÌïúÎã§.', reverse: true },
            
            // Ï≤≠Í∞Å (Auditory) - 6Î¨∏Ìï≠
            { type: 'auditory', text: 'Îëê Í∞ÄÏßÄ Ïù¥ÏÉÅÏùò ÎßêÏÜåÎ¶¨/ÏÜåÎ¶¨Í∞Ä Í≤πÏπòÎ©¥ ÎåÄÌôî ÎÇ¥Ïö©ÏùÑ ÎÜìÏπòÎäî ÏùºÏù¥ Ïû¶Îã§.', reverse: false },
            { type: 'auditory', text: 'ÏÜåÏùå ÌôòÍ≤ΩÏóêÏÑú ÏßëÏ§ëÎèÑÍ∞Ä Îñ®Ïñ¥ÏßÑÎã§.', reverse: false },
            { type: 'auditory', text: 'ÏùºÏ†ï Î¶¨Îì¨(ÏóêÏñ¥Ïª®, ÌÉÅÌÉÅ ÏÜåÎ¶¨ Îì±)Ïù¥ ÏßÄÏÜçÎêòÎ©¥ Ïã†Ï≤¥Í∞Ä Í∏¥Ïû•ÎêòÎäî ÎäêÎÇåÏù¥ Îì†Îã§.', reverse: false },
            { type: 'auditory', text: 'Ï°∞Ïö©Ìïú Í≥µÍ∞ÑÏúºÎ°ú Ïù¥ÎèôÌïòÎ©¥, Í∞êÏ†ï ÏÉÅÌÉúÍ∞Ä Ï†ïÏÉÅÌôîÎêòÍ∏∞ÍπåÏßÄ ÌöåÎ≥µ ÏãúÍ∞ÑÏù¥ ÌïÑÏöîÌïòÎã§.', reverse: false },
            { type: 'auditory', text: 'ÌäπÏ†ï ÏñµÏñë(Î™ÖÎ†πÏ°∞/ÎÇ†Ïπ¥Î°úÏö¥ ÌÜ§ Îì±)Ïù¥Î©¥, ÎÇ¥Ïö©Î≥¥Îã§ ÌÜ§ ÏûêÏ≤¥Ïóê Î®ºÏ†Ä Î∞òÏùëÌïúÎã§.', reverse: false },
            { type: 'auditory', text: 'ÏûëÏóÖ Î™∞ÏûÖ Ï§ëÏóêÎäî Ï£ºÎ≥Ä ÏÜåÏùåÏù¥ Ïª§Ï†∏ÎèÑ Î∞©Ìï¥Î•º Í±∞Ïùò Î∞õÏßÄ ÏïäÎäîÎã§.', reverse: true },
            
            // Ï¥âÍ∞Å (Tactile) - 6Î¨∏Ìï≠
            { type: 'tactile', text: 'ÌîºÎ∂ÄÏóê ÎãøÎäî ÎùºÎ≤®/ÏÜîÍ∏∞/ÏãúÍ≥ÑÏ§Ñ Í∞ôÏùÄ ÎØ∏ÏÑ∏Ìïú ÏïïÎ∞ïÏù¥ Ïã†Í≤Ω Ïì∞Ïó¨ Ïû•ÏãúÍ∞Ñ Ï∞©Ïö©Ïù¥ Ïñ¥Î†µÎã§.', reverse: false },
            { type: 'tactile', text: 'Ïò®ÎèÑ¬∑ÏäµÎèÑ Î≥ÄÌôîÍ∞Ä ÌÅ¨Î©¥ Í∞êÏ†ïÏù¥ Î®ºÏ†Ä ÏöîÎèôÏπòÍ≥† Ïù¥ÌõÑÏóê Ïù¥Ïú†Î•º Ï∞æÎäî Ìé∏Ïù¥Îã§.', reverse: false },
            { type: 'tactile', text: 'ÎÇØÏÑ† ÏÇ¨ÎûåÏù¥ ÏÜê/Ïñ¥Íπ®Î•º Ìà≠ ÏπòÎ©¥, ÏÉÅÎåÄ ÏùòÎèÑ ÌååÏïÖÎ≥¥Îã§ Î™∏ Î∞òÏùëÏù¥ Î®ºÏ†Ä ÏùºÏñ¥ÎÇúÎã§.', reverse: false },
            { type: 'tactile', text: 'Í∏¥Ïû• Ïãú Ïñ¥Íπ®¬∑ÌÑ±¬∑Î≥µÎ∂Ä Îì± ÌäπÏ†ï Î∂ÄÏúÑÏóê ÏùºÍ¥ÄÎêú Í∑ºÍ∏¥Ïû•Ïù¥ ÎÇòÌÉÄÎÇúÎã§.', reverse: false },
            { type: 'tactile', text: 'Î∂ÄÎìúÎü¨Ïö¥ Ïû¨Ïßà(Îã¥Ïöî, ÎÇòÎ¨¥Í≤∞, Î¨º Îì±)ÏùÑ ÏßßÍ≤å ÎßåÏßÄÎäî Í≤ÉÎßåÏúºÎ°úÎèÑ Ïù¥ÏôÑ Ï†ÑÌôòÏù¥ ÎêúÎã§.', reverse: false },
            { type: 'tactile', text: 'Ïò∑Í∞ê/Ïπ®Íµ¨ Ïû¨ÏßàÏùÄ Í±∞Ïùò Ïã†Í≤Ω Ïì∞ÏßÄ ÏïäÏúºÎ©∞, Î∂àÌé∏ÏùÑ Ïûò Ïù∏ÏãùÌïòÏßÄ Î™ªÌïúÎã§.', reverse: true },
            
            // ÌõÑÍ∞Å (Olfactory) - 6Î¨∏Ìï≠
            { type: 'olfactory', text: 'Ìñ•Ïù¥ÎÇò ÎÉÑÏÉà Î≥ÄÌôîÎ•º Í∞ÄÏû• Î®ºÏ†Ä ÏïåÏïÑÏ∞®Î¶¨Îäî Ìé∏Ïù¥Îã§(ÏÇ¨ÎûåÎ≥¥Îã§ Î®ºÏ†Ä).', reverse: false },
            { type: 'olfactory', text: 'Ïã§ÎÇ¥Ïóê ÏÉàÎ°úÏö¥ ÎÉÑÏÉàÍ∞Ä ÏÉùÍ∏∞Î©¥, Í∑∏ ÎÉÑÏÉàÏùò Ï∂úÏ≤òÎ•º Ï∞æÏùÑ ÎïåÍπåÏßÄ ÏßëÏ§ëÏù¥ ÌùêÌä∏Îü¨ÏßÑÎã§.', reverse: false },
            { type: 'olfactory', text: 'ÎÉÑÏÉàÍ∞Ä ÏÇ¨ÎùºÏßÑ Îí§ÏóêÎèÑ Í∞êÏ†ï Ïó¨ÏßÑ(Î∂àÏæå/Ìù•Î∂Ñ)Ïù¥ ÎπÑÍµêÏ†Å Ïò§Îûò ÎÇ®ÎäîÎã§.', reverse: false },
            { type: 'olfactory', text: 'ÏùµÏàôÌïú ÎÉÑÏÉàÍ∞Ä ÎÇòÎ©¥ ÌòÑÏû¨ ÏÉÅÌô©Ïù¥ Îã¨ÎùºÎèÑ Ïã†Ï≤¥Í∞Ä \'ÏïàÏ†Ñ\'ÏúºÎ°ú Ïò§ÌåêÌï† ÎïåÍ∞Ä ÏûàÎã§.', reverse: false },
            { type: 'olfactory', text: 'Í∞ôÏùÄ Ìñ•Ïù¥ÎùºÎèÑ Í∞ïÎèÑ/ÏûîÌñ• Ï∞®Ïù¥Î•º ÏòàÎØºÌïòÍ≤å Íµ¨Î∂ÑÌïúÎã§(Ïò§Î≤Ñ, ÌÉë/ÎØ∏Îì§/Î≤†Ïù¥Ïä§ Îì±).', reverse: false },
            { type: 'olfactory', text: 'ÎÉÑÏÉà Í∞ïÎèÑÍ∞Ä Ïª§Ï†∏ÎèÑ ÏóÖÎ¨¥ ÏÑ±Í≥ºÎÇò ÎåÄÌôî ÏßàÏóêÎäî Í±∞Ïùò Î≥ÄÌôîÍ∞Ä ÏóÜÎã§.', reverse: true },
            
            // ÎØ∏Í∞Å (Gustatory) - 6Î¨∏Ìï≠
            { type: 'gustatory', text: 'ÏãùÏÇ¨ ÏãúÍ∞Ñ/Í∑úÏπôÏù¥ ÌùêÌä∏Îü¨ÏßÄÎ©¥ Ï†ïÏÑú ÏïàÏ†ïÏÑ±Î≥¥Îã§ ÏßëÏ§ëÎ†•Ïù¥ Î®ºÏ†Ä Îñ®Ïñ¥ÏßÑÎã§.', reverse: false },
            { type: 'gustatory', text: 'Ïä§Ìä∏Î†àÏä§ ÏÉÅÌô©ÏóêÏÑú Ï∞æÎäî ÏùåÏãù Ìå®ÌÑ¥Ïù¥ Î∞òÎ≥µÎêúÎã§(Ïòà: Îãπ/Ïπ¥ÌéòÏù∏/Îß§Ïö¥Îßõ).', reverse: false },
            { type: 'gustatory', text: 'ÏãùÏÇ¨ ÏßÅÌõÑ Í∞êÏ†ï Í∏∞Î≥µÏù¥ Ï§ÑÏñ¥ÎìúÎäî Ï≤¥Í∞ê ÏãúÍ∞ÑÏù¥ ÏûàÎã§(Ïòà: 10~20Î∂Ñ).', reverse: false },
            { type: 'gustatory', text: 'ÏòàÏÉÅÍ≥º Îã§Î•∏ Îßõ/ÏãùÍ∞êÏù¥Î©¥, ÎßåÏ°±ÎèÑÎøê ÏïÑÎãàÎùº ÌñâÎèô Í≥ÑÌöç(ÏùºÏ†ï/ÏïΩÏÜç)ÎèÑ ÏàòÏ†ïÌïúÎã§.', reverse: false },
            { type: 'gustatory', text: 'ÏÉàÎ°úÏö¥ ÎßõÏóê ÎåÄÌïú Í∏∞ÎåÄÍ∞Ä ÎÇÆÏùÄ ÎÇ†Ïóî ÏÜåÎüâÎßå Î®πÍ≥†ÎèÑ Ìè¨Í∏∞Î•º ÏÑ†ÌÉùÌïúÎã§.', reverse: false },
            { type: 'gustatory', text: 'ÏãùÏÇ¨ ÏßàÏù¥ÎÇò ÌÉÄÏù¥Î∞çÏù¥ Îã¨ÎùºÎèÑ ÌïòÎ£® ÏóêÎÑàÏßÄÎÇò Í∞êÏ†ï Í≥°ÏÑ†ÏùÄ Í±∞Ïùò ÏùºÏ†ïÌïòÎã§.', reverse: true }
        ];

        const sensoryTypes = {
            visual: {
                name: 'ÏãúÍ∞ÅÌòï (Visual Type)',
                emoji: 'üëÅÔ∏è',
                description: 'ÏãúÍ∞ÅÏ†Å ÏûêÍ∑πÏóê ÎØºÍ∞êÌïòÍ≥† ÍπîÎÅîÌïòÍ≥† Ï†ïÎèàÎêú ÌôòÍ≤ΩÏùÑ ÏÑ†Ìò∏Ìï©ÎãàÎã§. Ï°∞Î™ÖÍ≥º ÏÉâÏÉÅ, Í≥µÍ∞Ñ Î∞∞ÏπòÍ∞Ä ÎãπÏã†Ïùò Í∞êÏ†ïÍ≥º Ïª®ÎîîÏÖòÏóê ÌÅ∞ ÏòÅÌñ•ÏùÑ ÎØ∏ÏπòÎäî ÌÉÄÏûÖÏûÖÎãàÎã§. ÏóÖÎ¨¥ÎÇò ÏùºÏÉÅÏÉùÌôúÏóêÏÑú ÏãúÍ∞ÅÏ†Å Ï†ïÎ≥¥Î•º Ï§ëÏöîÌïòÍ≤å Ïó¨Í∏∞Î©∞, ÌôòÍ≤ΩÏùò ÎØ∏Ï†Å ÏöîÏÜåÍ∞Ä ÏÑ±Í≥ºÏóê ÏßÅÏ†ëÏ†ÅÏù∏ ÏòÅÌñ•ÏùÑ Ï§çÎãàÎã§.'
            },
            auditory: {
                name: 'Ï≤≠Í∞ÅÌòï (Auditory Type)',
                emoji: 'üëÇ',
                description: 'ÏÜåÎ¶¨ÏôÄ ÏùåÏÑ±Ïóê ÌäπÎ≥ÑÌûà ÎØºÍ∞êÌïú ÌÉÄÏûÖÏûÖÎãàÎã§. ÏùåÏïÖ, Î™©ÏÜåÎ¶¨Ïùò ÌÜ§, Ï£ºÎ≥Ä ÏÜåÏùåÏù¥ ÎãπÏã†Ïùò Í∞êÏ†ï ÏÉÅÌÉúÎ•º ÌÅ¨Í≤å Ï¢åÏö∞Ìï©ÎãàÎã§. Ï°∞Ïö©Ìïú ÌôòÍ≤ΩÏóêÏÑú ÏµúÏ†ÅÏùò ÏÑ±Í≥ºÎ•º ÎÇ¥Î©∞, ÏÜåÎ¶¨Î•º ÌÜµÌï¥ Í∞êÏ†ïÍ≥º ÏóêÎÑàÏßÄÎ•º Ï°∞Ï†àÌïòÎäî Í≤ΩÌñ•Ïù¥ ÏûàÏäµÎãàÎã§.'
            },
            tactile: {
                name: 'Ï¥âÍ∞ÅÌòï (Tactile Type)',
                emoji: '‚úã',
                description: 'Ï¥âÍ∞êÍ≥º Ïã†Ï≤¥Ï†Å Ï†ëÏ¥âÏóê ÎØºÍ∞êÌïú ÌÉÄÏûÖÏûÖÎãàÎã§. Ïò∑Ïùò Ïû¨Ïßà, Ïò®ÎèÑ, Î¨ºÎ¶¨Ï†Å Ï†ëÏ¥âÏù¥ ÎãπÏã†Ïùò Ìé∏ÏïàÌï®Í≥º Í∞êÏ†ïÏóê ÏßÅÏ†ëÏ†ÅÏù∏ ÏòÅÌñ•ÏùÑ Ï§çÎãàÎã§. Ïã†Ï≤¥ Í∞êÍ∞ÅÏùÑ ÌÜµÌï¥ ÌôòÍ≤ΩÏùÑ Ïù∏ÏãùÌïòÍ≥† Í∞êÏ†ï ÏÉÅÌÉúÎ•º ÌåêÎã®ÌïòÎäî ÌäπÏÑ±Ïù¥ ÏûàÏäµÎãàÎã§.'
            },
            olfactory: {
                name: 'ÌõÑÍ∞ÅÌòï (Olfactory Type)',
                emoji: 'üëÉ',
                description: 'ÎÉÑÏÉàÏôÄ Ìñ•Í∏∞Ïóê ÌäπÎ≥ÑÌïú Î∞òÏùëÏùÑ Î≥¥Ïù¥Îäî ÌÉÄÏûÖÏûÖÎãàÎã§. Ìñ•Ïàò, ÏùåÏãù ÎÉÑÏÉà, ÏûêÏó∞Ïùò Ìñ•Í∏∞Í∞Ä ÎãπÏã†Ïùò Í∏∞ÏñµÍ≥º Í∞êÏ†ïÏùÑ Í∞ïÌïòÍ≤å ÏûêÍ∑πÌï©ÎãàÎã§. ÌõÑÍ∞ÅÏùÑ ÌÜµÌï¥ Í≥µÍ∞ÑÍ≥º ÏÉÅÌô©ÏùÑ Îπ†Î•¥Í≤å Ïù∏ÏãùÌïòÍ≥† Î∞òÏùëÌïòÎäî Îä•Î†•Ïù¥ Îõ∞Ïñ¥ÎÇ©ÎãàÎã§.'
            },
            gustatory: {
                name: 'ÎØ∏Í∞ÅÌòï (Gustatory Type)',
                emoji: 'üëÖ',
                description: 'ÎßõÍ≥º ÏùåÏãùÏùÑ ÌÜµÌï¥ Í∞êÏ†ïÏùÑ Ï°∞Ï†àÌïòÎäî ÌÉÄÏûÖÏûÖÎãàÎã§. ÏùåÏãùÏùò ÎßõÏù¥ ÎãπÏã†Ïùò Í∏∞Î∂ÑÍ≥º ÌïòÎ£®Ïùò Ïª®ÎîîÏÖòÏóê ÌÅ∞ ÏòÅÌñ•ÏùÑ ÎØ∏Ïπ©ÎãàÎã§. ÏãùÏÇ¨ Ìå®ÌÑ¥Í≥º ÎßõÏùò Î≥ÄÌôîÍ∞Ä Í∞êÏ†ï ÏÉÅÌÉúÏôÄ Î∞ÄÏ†ëÌïòÍ≤å Ïó∞Í≤∞ÎêòÏñ¥ ÏûàÎäî ÌäπÏÑ±ÏùÑ Î≥¥ÏûÖÎãàÎã§.'
            }
        };

        let currentQuestion = 0;
        let answers = {};
        let shuffledQuestions = [];

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function initializeTest() {
            shuffledQuestions = shuffleArray(allQuestions);
            currentQuestion = 0;
            answers = {};
            showQuestion();
        }

        function showQuestion() {
            const question = shuffledQuestions[currentQuestion];
            const questionCard = document.getElementById('questionCard');
            
            questionCard.innerHTML = `
                <div class="question-number">ÏßàÎ¨∏ ${currentQuestion + 1} / ${shuffledQuestions.length}</div>
                <div class="question-text">${question.text}</div>
                <div class="scale-container">
                    <div class="scale-label">Ï†ÑÌòÄ<br>Í∑∏Î†áÏßÄ ÏïäÎã§</div>
                    <div class="scale-options">
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="1" id="q${currentQuestion}_1">
                            <label for="q${currentQuestion}_1">1</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="2" id="q${currentQuestion}_2">
                            <label for="q${currentQuestion}_2">2</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="3" id="q${currentQuestion}_3">
                            <label for="q${currentQuestion}_3">3</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="4" id="q${currentQuestion}_4">
                            <label for="q${currentQuestion}_4">4</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="q${currentQuestion}" value="5" id="q${currentQuestion}_5">
                            <label for="q${currentQuestion}_5">5</label>
                        </div>
                    </div>
                    <div class="scale-label">Îß§Ïö∞<br>Í∑∏Î†áÎã§</div>
                </div>
            `;

            // Ïù¥Ï†Ñ ÎãµÎ≥ÄÏù¥ ÏûàÎã§Î©¥ Î≥µÏõê
            if (answers[currentQuestion] !== undefined) {
                const prevAnswer = answers[currentQuestion];
                document.querySelector(`input[name="q${currentQuestion}"][value="${prevAnswer}"]`).checked = true;
            }

            updateProgress();
            updateButtons();
            setupQuestionEventListeners();
        }

        function setupQuestionEventListeners() {
            const radioButtons = document.querySelectorAll(`input[name="q${currentQuestion}"]`);
            radioButtons.forEach(radio => {
                radio.addEventListener('change', () => {
                    answers[currentQuestion] = parseInt(radio.value);
                    updateButtons();
                });
            });
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / shuffledQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === shuffledQuestions.length - 1) {
                nextBtn.textContent = answers[currentQuestion] !== undefined ? 'Í≤∞Í≥º Î≥¥Í∏∞' : 'ÎãµÎ≥ÄÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî';
                nextBtn.disabled = answers[currentQuestion] === undefined;
            } else {
                nextBtn.textContent = 'Îã§Ïùå';
                nextBtn.disabled = answers[currentQuestion] === undefined;
            }
        }

        function nextQuestion() {
            if (currentQuestion === shuffledQuestions.length - 1) {
                showResult();
            } else {
                currentQuestion++;
                showQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        function calculateScores() {
            const scores = {
                visual: 0,
                auditory: 0,
                tactile: 0,
                olfactory: 0,
                gustatory: 0
            };

            shuffledQuestions.forEach((question, index) => {
                if (answers[index] !== undefined) {
                    let score = answers[index];
                    
                    // Ïó≠Ï±ÑÏ†ê Î¨∏Ìï≠ Ï≤òÎ¶¨
                    if (question.reverse) {
                        score = 6 - score; // 1->5, 2->4, 3->3, 4->2, 5->1
                    }
                    
                    scores[question.type] += score;
                }
            });

            return scores;
        }

        function showResult() {
            const scores = calculateScores();
            const maxScore = Math.max(...Object.values(scores));
            const dominantTypes = Object.keys(scores).filter(type => scores[type] === maxScore);
            
            let mainType = dominantTypes[0];
            let typeCode = '';
            
            if (dominantTypes.length > 1) {
                typeCode = dominantTypes.map(type => type.charAt(0).toUpperCase()).join('');
                mainType = dominantTypes[0];
            } else {
                typeCode = mainType.charAt(0).toUpperCase();
            }

            const resultSummary = document.getElementById('resultSummary');
            resultSummary.innerHTML = `
                <div class="main-type">${typeCode}</div>
                <div class="type-name">${sensoryTypes[mainType].emoji} ${sensoryTypes[mainType].name}</div>
            `;

            const scoreBreakdown = document.getElementById('scoreBreakdown');
            let scoreHTML = '';
            
            Object.keys(scores).forEach(type => {
                const percentage = (scores[type] / 30) * 100;
                const fillClass = type + '-fill';
                
                scoreHTML += `
                    <div class="score-item">
                        <div class="score-type">${sensoryTypes[type].emoji} ${sensoryTypes[type].name.split(' (')[0]}</div>
                        <div class="score-bar">
                            <div class="score-fill ${fillClass}" style="width: ${percentage}%"></div>
                        </div>
                        <div class="score-value">${scores[type]}/30 (${Math.round(percentage)}%)</div>
                    </div>
                `;
            });
            
            scoreBreakdown.innerHTML = scoreHTML;

            const resultDescription = document.getElementById('resultDescription');
            resultDescription.innerHTML = `
                <h3>${sensoryTypes[mainType].emoji} ${sensoryTypes[mainType].name}</h3>
                <p>${sensoryTypes[mainType].description}</p>
            `;

            // Ïï†ÎãàÎ©îÏù¥ÏÖòÏùÑ ÏúÑÌïú ÏßÄÏó∞
            setTimeout(() => {
                document.querySelectorAll('.score-fill').forEach(fill => {
                    const width = fill.style.width;
                    fill.style.width = '0%';
                    setTimeout(() => {
                        fill.style.width = width;
                    }, 100);
                });
            }, 500);

            document.getElementById('testPage').style.display = 'none';
            document.getElementById('resultPage').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function restartTest() {
            document.getElementById('resultPage').style.display = 'none';
            document.getElementById('testPage').style.display = 'block';
            initializeTest();
            window.scrollTo(0, 0);
        }

        // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà ÏÑ§Ï†ï
        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('restartBtn').addEventListener('click', restartTest);

        // Ï¥àÍ∏∞Ìôî
        window.addEventListener('DOMContentLoaded', initializeTest);
    </script>
</body>
</html>
